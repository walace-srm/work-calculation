{"version":3,"mappings":"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","names":["routes","path","component","_calc_periculosidade_page__WEBPACK_IMPORTED_MODULE_0__","CalcPericulosidadePageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","CalcPericulosidadePageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_calc_periculosidade_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_calc_periculosidade_page__WEBPACK_IMPORTED_MODULE_1__","CalcPericulosidadePage","formBuilder","toastController","pdfGenerator","form","group","grossSalary","_angular_forms__WEBPACK_IMPORTED_MODULE_3__","dangerousnessValue","create","message","duration","color","toast","present","reset","calculatedDangerousness","undefined","e","patchValue","value","inssValue","_a","toLocaleString","maximumFractionDigits","minimumFractionDigits","grossSalaryFormatted","calculatedDangerousnessPdf","_b","total","_c","hidden","document","getElementById","removeAttribute","setAttribute","a","fromData","innerHTML","type","valid","reportSalaryToast","calcDangerousness","markAsPristine","_ionic_angular__WEBPACK_IMPORTED_MODULE_5__","_ionic_native_pdf_generator_ngx__WEBPACK_IMPORTED_MODULE_2__","selector","template","__webpack_exports__"],"sources":["webpack:///src/app/pages/calc-periculosidade/calc-periculosidade-routing.module.ts","webpack:///src/app/pages/calc-periculosidade/calc-periculosidade.module.ts","webpack:///src/app/pages/calc-periculosidade/calc-periculosidade.page.ts","webpack:///src/app/pages/calc-periculosidade/calc-periculosidade.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CalcPericulosidadePage } from './calc-periculosidade.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CalcPericulosidadePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CalcPericulosidadePageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { CalcPericulosidadePageRoutingModule } from \"./calc-periculosidade-routing.module\";\n\nimport { CalcPericulosidadePage } from \"./calc-periculosidade.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    CalcPericulosidadePageRoutingModule,\n  ],\n  declarations: [CalcPericulosidadePage],\n})\nexport class CalcPericulosidadePageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { PDFGenerator } from \"@ionic-native/pdf-generator/ngx\";\nimport { ToastController } from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-calc-periculosidade\",\n  templateUrl: \"./calc-periculosidade.page.html\",\n  styleUrls: [\"./calc-periculosidade.page.scss\"],\n})\nexport class CalcPericulosidadePage implements OnInit {\n  public form: FormGroup;\n  public grossSalary: number;\n  public calculatedDangerousness: number;\n  public grossSalaryFormatted: string;\n  public calculatedDangerousnessPdf: string;\n  public total: string;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public toastController: ToastController,\n    private pdfGenerator: PDFGenerator\n  ) {}\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      grossSalary: [\"\", Validators.required],\n      dangerousnessValue: [\"\"],\n    });\n  }\n\n  async reportSalaryToast() {\n    const toast = await this.toastController.create({\n      message: \"Insira o valor do salário!\",\n      duration: 3000,\n      color: \"medium\",\n    });\n    toast.present();\n  }\n\n  resetForm() {\n    this.form.reset();\n    this.calculatedDangerousness = undefined;\n    this.grossSalary = undefined;\n  }\n\n  showClearButton(e) {\n    this.grossSalary = e;\n    if (!e) {\n      this.form.patchValue({\n        dangerousnessValue: (this.form.value.inssValue = undefined),\n      });\n      this.calculatedDangerousness = undefined;\n    }\n  }\n\n  calcDangerousness() {\n    this.calculatedDangerousness = (this.form.value.grossSalary * 30) / 100;\n    this.form.patchValue({\n      dangerousnessValue: this.calculatedDangerousness?.toLocaleString(\n        \"pt-BR\",\n        {\n          maximumFractionDigits: 2,\n          minimumFractionDigits: 2,\n        }\n      ),\n    });\n    this.grossSalaryFormatted = this.grossSalary.toLocaleString(\"pt-BR\", {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n    });\n\n    this.calculatedDangerousnessPdf =\n      this.calculatedDangerousness?.toLocaleString(\"pt-BR\", {\n        maximumFractionDigits: 2,\n        minimumFractionDigits: 2,\n      });\n\n    this.total = (\n      this.grossSalary + this.calculatedDangerousness\n    )?.toLocaleString(\"pt-BR\", {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n    });\n  }\n\n  generatorPdf() {\n    const hidden = document.getElementById(\"remove\");\n    hidden.removeAttribute(\"hidden\");\n    hidden.setAttribute(\"hidden\", \"\");\n    const a: any = document.getElementById(\"print\");\n    this.pdfGenerator.fromData(a.innerHTML, { type: \"share\" });\n  }\n\n  onSubmit({ value, valid }: { value: any; valid: boolean }) {\n    if (!valid) {\n      return this.reportSalaryToast();\n    }\n    this.grossSalary = value.grossSalary;\n    this.calcDangerousness();\n    this.form.markAsPristine();\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <ion-label>{{ 'Periculosidade' | uppercase}}</ion-label>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"form\\\" class=\\\"paddin-input\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Salário bruto</ion-label>\\n      <ion-input\\n        placeholder=\\\"R$ 0.00\\\"\\n        type=\\\"number\\\"\\n        (ngModelChange)=\\\"showClearButton($event)\\\"\\n        formControlName=\\\"grossSalary\\\"\\n      ></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label *ngIf=\\\"form.value.dangerousnessValue\\\">R$</ion-label>\\n      <ion-input\\n        disabled\\n        placeholder=\\\"...\\\"\\n        formControlName=\\\"dangerousnessValue\\\"\\n      ></ion-input>\\n    </ion-item>\\n\\n    <div class=\\\"align-button\\\">\\n      <ion-button (click)=\\\"onSubmit(form)\\\">Calcular</ion-button>\\n      <ion-button *ngIf=\\\"grossSalary\\\" (click)=\\\"resetForm()\\\" color=\\\"light\\\"\\n        >Limpar</ion-button\\n      >\\n      <ion-button\\n        *ngIf=\\\"calculatedDangerousness\\\"\\n        (click)=\\\"generatorPdf()\\\"\\n        color=\\\"light\\\"\\n        >Gerar PDF</ion-button\\n      >\\n    </div>\\n  </form>\\n</ion-content>\\n<!--Gerar PDF-->\\n<!--Preciso melhorar isso-->\\n<div hidden id=\\\"remove\\\">\\n  <div id=\\\"print\\\">\\n    <h1 style=\\\"display: flex; justify-content: center; margin-bottom: 40px\\\">\\n      ADICIONAL PERICULOSIDADE\\n    </h1>\\n    <br />\\n    <div style=\\\"width: 100%\\\">\\n      <div\\n        style=\\\"\\n          display: flex;\\n          background-color: #dddddd;\\n          justify-content: space-between;\\n          height: 50px;\\n        \\\"\\n      >\\n        <b style=\\\"font-size: 35px\\\">Salário bruto:</b>\\n        <span style=\\\"font-size: 35px\\\">{{ 'R$ ' + grossSalaryFormatted }}</span>\\n      </div>\\n\\n      <div style=\\\"display: flex; justify-content: space-between; height: 50px\\\">\\n        <b style=\\\"font-size: 35px\\\">Adicional periculosidade:</b>\\n        <span style=\\\"font-size: 35px\\\"\\n          >{{ 'R$ ' + calculatedDangerousnessPdf }}</span\\n        >\\n      </div>\\n\\n      <div\\n        style=\\\"\\n          display: flex;\\n          justify-content: space-between;\\n          height: 50px;\\n          background-color: #dddddd;\\n        \\\"\\n      >\\n        <b style=\\\"font-size: 35px\\\">Total</b>\\n        <span style=\\\"font-size: 35px\\\">{{ 'R$ ' + total }}</span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";"]}