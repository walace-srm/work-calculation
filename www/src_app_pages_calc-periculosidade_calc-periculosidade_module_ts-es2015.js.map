{"version":3,"file":"src_app_pages_calc-periculosidade_calc-periculosidade_module_ts-es2015.js","mappings":"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","sources":["./src/app/pages/calc-periculosidade/calc-periculosidade-routing.module.ts","./src/app/pages/calc-periculosidade/calc-periculosidade.module.ts","./src/app/pages/calc-periculosidade/calc-periculosidade.page.ts","./src/app/pages/calc-periculosidade/calc-periculosidade.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CalcPericulosidadePage } from './calc-periculosidade.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CalcPericulosidadePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CalcPericulosidadePageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { CalcPericulosidadePageRoutingModule } from \"./calc-periculosidade-routing.module\";\n\nimport { CalcPericulosidadePage } from \"./calc-periculosidade.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    CalcPericulosidadePageRoutingModule,\n  ],\n  declarations: [CalcPericulosidadePage],\n})\nexport class CalcPericulosidadePageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { PDFGenerator } from \"@ionic-native/pdf-generator/ngx\";\nimport { ToastController } from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-calc-periculosidade\",\n  templateUrl: \"./calc-periculosidade.page.html\",\n  styleUrls: [\"./calc-periculosidade.page.scss\"],\n})\nexport class CalcPericulosidadePage implements OnInit {\n  public form: FormGroup;\n  public grossSalary: number;\n  public calculatedDangerousness: number;\n  public grossSalaryFormatted: string;\n  public calculatedDangerousnessPdf: string;\n  public total: string;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public toastController: ToastController,\n    private pdfGenerator: PDFGenerator\n  ) {}\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      grossSalary: [\"\", Validators.required],\n      dangerousnessValue: [\"\"],\n    });\n  }\n\n  async reportSalaryToast() {\n    const toast = await this.toastController.create({\n      message: \"Insira o valor do salário!\",\n      duration: 3000,\n      color: \"medium\",\n    });\n    toast.present();\n  }\n\n  resetForm() {\n    this.form.reset();\n    this.calculatedDangerousness = undefined;\n    this.grossSalary = undefined;\n  }\n\n  showClearButton(e) {\n    this.grossSalary = e;\n    if (!e) {\n      this.form.patchValue({\n        dangerousnessValue: (this.form.value.inssValue = undefined),\n      });\n      this.calculatedDangerousness = undefined;\n    }\n  }\n\n  calcDangerousness() {\n    this.calculatedDangerousness = (this.form.value.grossSalary * 30) / 100;\n    this.form.patchValue({\n      dangerousnessValue: this.calculatedDangerousness?.toLocaleString(\n        \"pt-BR\",\n        {\n          maximumFractionDigits: 2,\n          minimumFractionDigits: 2,\n        }\n      ),\n    });\n    this.grossSalaryFormatted = this.grossSalary.toLocaleString(\"pt-BR\", {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n    });\n\n    this.calculatedDangerousnessPdf =\n      this.calculatedDangerousness?.toLocaleString(\"pt-BR\", {\n        maximumFractionDigits: 2,\n        minimumFractionDigits: 2,\n      });\n\n    this.total = (\n      this.grossSalary + this.calculatedDangerousness\n    )?.toLocaleString(\"pt-BR\", {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n    });\n  }\n\n  generatorPdf() {\n    const hidden = document.getElementById(\"remove\");\n    hidden.removeAttribute(\"hidden\");\n    hidden.setAttribute(\"hidden\", \"\");\n    const a: any = document.getElementById(\"print\");\n    this.pdfGenerator.fromData(a.innerHTML, { type: \"share\" });\n  }\n\n  onSubmit({ value, valid }: { value: any; valid: boolean }) {\n    if (!valid) {\n      return this.reportSalaryToast();\n    }\n    this.grossSalary = value.grossSalary;\n    this.calcDangerousness();\n    this.form.markAsPristine();\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <ion-label>{{ 'Periculosidade' | uppercase}}</ion-label>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"form\\\" class=\\\"paddin-input\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Salário bruto</ion-label>\\n      <ion-input\\n        placeholder=\\\"R$ 0.00\\\"\\n        type=\\\"number\\\"\\n        (ngModelChange)=\\\"showClearButton($event)\\\"\\n        formControlName=\\\"grossSalary\\\"\\n      ></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label *ngIf=\\\"form.value.dangerousnessValue\\\">R$</ion-label>\\n      <ion-input\\n        disabled\\n        placeholder=\\\"...\\\"\\n        formControlName=\\\"dangerousnessValue\\\"\\n      ></ion-input>\\n    </ion-item>\\n\\n    <div class=\\\"align-button\\\">\\n      <ion-button (click)=\\\"onSubmit(form)\\\">Calcular</ion-button>\\n      <ion-button *ngIf=\\\"grossSalary\\\" (click)=\\\"resetForm()\\\" color=\\\"light\\\"\\n        >Limpar</ion-button\\n      >\\n      <ion-button\\n        *ngIf=\\\"calculatedDangerousness\\\"\\n        (click)=\\\"generatorPdf()\\\"\\n        color=\\\"light\\\"\\n        >Gerar PDF</ion-button\\n      >\\n    </div>\\n  </form>\\n</ion-content>\\n<!--Gerar PDF-->\\n<!--Preciso melhorar isso-->\\n<div hidden id=\\\"remove\\\">\\n  <div id=\\\"print\\\">\\n    <h1 style=\\\"display: flex; justify-content: center; margin-bottom: 40px\\\">\\n      ADICIONAL PERICULOSIDADE\\n    </h1>\\n    <br />\\n    <div style=\\\"width: 100%\\\">\\n      <div\\n        style=\\\"\\n          display: flex;\\n          background-color: #dddddd;\\n          justify-content: space-between;\\n          height: 50px;\\n        \\\"\\n      >\\n        <b style=\\\"font-size: 35px\\\">Salário bruto:</b>\\n        <span style=\\\"font-size: 35px\\\">{{ 'R$ ' + grossSalaryFormatted }}</span>\\n      </div>\\n\\n      <div style=\\\"display: flex; justify-content: space-between; height: 50px\\\">\\n        <b style=\\\"font-size: 35px\\\">Adicional periculosidade:</b>\\n        <span style=\\\"font-size: 35px\\\"\\n          >{{ 'R$ ' + calculatedDangerousnessPdf }}</span\\n        >\\n      </div>\\n\\n      <div\\n        style=\\\"\\n          display: flex;\\n          justify-content: space-between;\\n          height: 50px;\\n          background-color: #dddddd;\\n        \\\"\\n      >\\n        <b style=\\\"font-size: 35px\\\">Total</b>\\n        <span style=\\\"font-size: 35px\\\">{{ 'R$ ' + total }}</span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";"],"names":[],"sourceRoot":"webpack:///"}